import { use } from 'vue-axios';

export default {
  setup() {
    use(axios);

    const handleDownload = () => {
      axios.get('/presentation', { responseType: 'blob' })
        .then(response => response.data)
        .then(blob => {
          // Create a URL that points to the file
          const url = URL.createObjectURL(blob);

          // Create a link element with the URL as the href attribute
          const a = document.createElement('a');
          a.style.display = 'none';
          a.href = url;
          a.download = 'hello_world.pptx';

          // Append the link to the body and click it
          document.body.appendChild(a);
          a.click();

          // Revoke the URL when the download is complete
          window.URL.revokeObjectURL(url);
        });
    };

return {
  handleDownload
};
